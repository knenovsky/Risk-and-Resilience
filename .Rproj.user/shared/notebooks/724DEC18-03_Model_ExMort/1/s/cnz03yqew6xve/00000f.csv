"0",""
"0","dim_features<-colnames(dimred_250)[grepl(""iso1$"",colnames(dimred_250))]"
"0",""
"0","corrframe<-dimred_250 %>%  filter(year %in% 2021) %>% "
"0","  dplyr::select(`Country Code`,dim_features)  %>% "
"0","  inner_join( .  ,owid_annual %>% filter(year%in% 2021),by=c(""Country Code""=""iso_code"")) %>% "
"0","  inner_join( . ,covar,by=""Country Code"")  %>% filter(!is.na(iso1),!is.na(airpolution_avg))%>% rename("
"0","    ""Urban area (%)"" =""urban_percent"", "
"0","    ""e-Isomap 1""=""iso1"","
"0","    # ""PC 2""=""PCA_2"", "
"0","    # ""PC 3""=""PCA_3"", "
"0","    # ""PC 4""=""PCA_4"", "
"0","    # ""PC 5""=""PCA_5"","
"0","    ""Med. Infr""= ""Med_recources_m"","
"0","    ""UHC index""=""med_UHD"", "
"0","    ""Life expectancy""=""life_expectancy"","
"0","    ""Mortality index""=""mortality_m"", "
"0","    ""Digitalisation Index""= ""digitalisation_1"","
"0","    ""Oxford Stringency Index""=""Stringency_index"","
"0","    ""Covid cases per million""=""Covid_Cases_per_million"","
"0","    ""Age > 65 (%)""=aged_65_older,"
"0","    ""HDI""=human_development_index,"
"0","    ""Cardiovasc death rate""=cardiovasc_death_rate,"
"0","    ""Pop dens""=population_density,"
"0","    ""Diabetetes (%)""=diabetes_prevalence,"
"0","    ""Health spending""=""health_spending_percent"","
"0","    ""Obesity (%)""= ""obesity"", "
"0","    ""Basic Immunization""=""immunization_bad"","
"0","    ""Comorbidity index""=""comorb_m_unscaled"","
"0","    ""Air pollution""=""airpolution_avg"","
"0","    ""Age (Median)""=""Median_age"") %>% "
"0","  dplyr::select(-`Country Code`,-year,-location,-younger14,-older65,-`Med. Infr`,-Available_Hospital_beds,-Owid_Total_death,-handwashing_facilities,-rural_percent,-identifier) %>%   mutate_all(~ifelse(is.nan(.), NA, .)) %>% filter(!is.na(`Oxford Stringency Index`),!is.na(`Digitalisation Index`),!is.na(`Obesity (%)`))"
"0","cor_matrix <- round(abs(cor(corrframe)), 1) %>% data.frame()"
"0","require(ggcorrplot)"
"0","alfa<- round(abs(cor(corrframe)),digits = 3) %>% data.frame()"
"0",""
"0","cor_matrix %>% data.frame() %>%  dim"
"1","[1]"
"1"," 20"
"1"," 20"
"1","
"
"0","a<-ggcorrplot(cor_matrix, type = ""upper"","
"0","   lab = F) + scale_fill_viridis_b()+ theme_classic()+theme(axis.text = element_text(size = 12),axis.text.x = element_text(angle = 90, hjust = 1)) +xlab("""")+ylab("""")"
"1","[38;5;236mScale for [32mfill[38;5;236m is already present.
Adding another scale for [32mfill[38;5;236m, which will replace the existing scale.[39m
"
"0","  "
"0","# "
"0","# a %>% ggsave(file=""../figures/03_figures/Corr.png"",device = ""png"")"
